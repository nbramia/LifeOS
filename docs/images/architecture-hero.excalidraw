{
  "type": "excalidraw",
  "version": 2,
  "source": "https://excalidraw.com",
  "elements": [
    {
      "id": "title",
      "type": "text",
      "x": 450,
      "y": 10,
      "width": 300,
      "height": 35,
      "text": "LifeOS Data Flow",
      "fontSize": 28,
      "fontFamily": 1,
      "textAlign": "center",
      "strokeColor": "#1e1e1e"
    },
    {
      "id": "sources-box",
      "type": "rectangle",
      "x": 20,
      "y": 60,
      "width": 160,
      "height": 520,
      "strokeColor": "#2f9e44",
      "backgroundColor": "#b2f2bb",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "roughness": 1
    },
    {
      "id": "sources-title",
      "type": "text",
      "x": 50,
      "y": 70,
      "width": 100,
      "height": 25,
      "text": "Data Sources",
      "fontSize": 14,
      "fontFamily": 1,
      "strokeColor": "#2f9e44"
    },
    {
      "id": "gmail",
      "type": "text",
      "x": 35,
      "y": 105,
      "width": 130,
      "height": 40,
      "text": "Gmail\n(threads, attachments)",
      "fontSize": 11,
      "fontFamily": 1
    },
    {
      "id": "calendar",
      "type": "text",
      "x": 35,
      "y": 150,
      "width": 130,
      "height": 40,
      "text": "Calendar\n(events, attendees)",
      "fontSize": 11,
      "fontFamily": 1
    },
    {
      "id": "imessage",
      "type": "text",
      "x": 35,
      "y": 195,
      "width": 130,
      "height": 40,
      "text": "iMessage\n(chat.db)",
      "fontSize": 11,
      "fontFamily": 1
    },
    {
      "id": "slack",
      "type": "text",
      "x": 35,
      "y": 240,
      "width": 130,
      "height": 40,
      "text": "Slack\n(DMs, channels)",
      "fontSize": 11,
      "fontFamily": 1
    },
    {
      "id": "whatsapp",
      "type": "text",
      "x": 35,
      "y": 285,
      "width": 130,
      "height": 40,
      "text": "WhatsApp\n(messages)",
      "fontSize": 11,
      "fontFamily": 1
    },
    {
      "id": "contacts",
      "type": "text",
      "x": 35,
      "y": 330,
      "width": 130,
      "height": 40,
      "text": "Contacts\n(Apple CSV)",
      "fontSize": 11,
      "fontFamily": 1
    },
    {
      "id": "linkedin",
      "type": "text",
      "x": 35,
      "y": 375,
      "width": 130,
      "height": 40,
      "text": "LinkedIn\n(CSV export)",
      "fontSize": 11,
      "fontFamily": 1
    },
    {
      "id": "photos",
      "type": "text",
      "x": 35,
      "y": 420,
      "width": 130,
      "height": 40,
      "text": "Photos\n(face recognition)",
      "fontSize": 11,
      "fontFamily": 1
    },
    {
      "id": "vault",
      "type": "text",
      "x": 35,
      "y": 465,
      "width": 130,
      "height": 40,
      "text": "Obsidian Vault\n(markdown files)",
      "fontSize": 11,
      "fontFamily": 1
    },
    {
      "id": "gdrive",
      "type": "text",
      "x": 35,
      "y": 510,
      "width": 130,
      "height": 40,
      "text": "Google Docs\n(synced to vault)",
      "fontSize": 11,
      "fontFamily": 1
    },
    {
      "id": "initial-storage-box",
      "type": "rectangle",
      "x": 220,
      "y": 60,
      "width": 140,
      "height": 260,
      "strokeColor": "#e8590c",
      "backgroundColor": "#ffe8cc",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "roughness": 1
    },
    {
      "id": "initial-storage-title",
      "type": "text",
      "x": 235,
      "y": 70,
      "width": 110,
      "height": 25,
      "text": "Initial Storage",
      "fontSize": 14,
      "fontFamily": 1,
      "strokeColor": "#e8590c"
    },
    {
      "id": "crm-db",
      "type": "rectangle",
      "x": 235,
      "y": 105,
      "width": 110,
      "height": 70,
      "strokeColor": "#e8590c",
      "backgroundColor": "#fff4e6",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "roughness": 1
    },
    {
      "id": "crm-db-text",
      "type": "text",
      "x": 245,
      "y": 115,
      "width": 90,
      "height": 50,
      "text": "crm.db\n(SQLite)\nSourceEntity",
      "fontSize": 11,
      "fontFamily": 1,
      "textAlign": "center"
    },
    {
      "id": "imessage-db",
      "type": "rectangle",
      "x": 235,
      "y": 185,
      "width": 110,
      "height": 50,
      "strokeColor": "#e8590c",
      "backgroundColor": "#fff4e6",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "roughness": 1
    },
    {
      "id": "imessage-db-text",
      "type": "text",
      "x": 245,
      "y": 195,
      "width": 90,
      "height": 30,
      "text": "imessage.db\n(cache)",
      "fontSize": 11,
      "fontFamily": 1,
      "textAlign": "center"
    },
    {
      "id": "vault-files",
      "type": "rectangle",
      "x": 235,
      "y": 245,
      "width": 110,
      "height": 50,
      "strokeColor": "#e8590c",
      "backgroundColor": "#fff4e6",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "roughness": 1
    },
    {
      "id": "vault-files-text",
      "type": "text",
      "x": 245,
      "y": 255,
      "width": 90,
      "height": 30,
      "text": "Vault/\n(.md files)",
      "fontSize": 11,
      "fontFamily": 1,
      "textAlign": "center"
    },
    {
      "id": "processing-box",
      "type": "rectangle",
      "x": 400,
      "y": 60,
      "width": 160,
      "height": 260,
      "strokeColor": "#1971c2",
      "backgroundColor": "#a5d8ff",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "roughness": 1
    },
    {
      "id": "processing-title",
      "type": "text",
      "x": 430,
      "y": 70,
      "width": 100,
      "height": 25,
      "text": "Processing",
      "fontSize": 14,
      "fontFamily": 1,
      "strokeColor": "#1971c2"
    },
    {
      "id": "entity-res",
      "type": "rectangle",
      "x": 415,
      "y": 105,
      "width": 130,
      "height": 55,
      "strokeColor": "#1971c2",
      "backgroundColor": "#d0ebff",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "roughness": 1
    },
    {
      "id": "entity-res-text",
      "type": "text",
      "x": 425,
      "y": 112,
      "width": 110,
      "height": 40,
      "text": "Entity Resolution\nemail→phone→name",
      "fontSize": 11,
      "fontFamily": 1,
      "textAlign": "center"
    },
    {
      "id": "embedding",
      "type": "rectangle",
      "x": 415,
      "y": 170,
      "width": 130,
      "height": 55,
      "strokeColor": "#1971c2",
      "backgroundColor": "#d0ebff",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "roughness": 1
    },
    {
      "id": "embedding-text",
      "type": "text",
      "x": 425,
      "y": 177,
      "width": 110,
      "height": 40,
      "text": "Embedding\n(local model)",
      "fontSize": 11,
      "fontFamily": 1,
      "textAlign": "center"
    },
    {
      "id": "bm25-idx",
      "type": "rectangle",
      "x": 415,
      "y": 235,
      "width": 130,
      "height": 55,
      "strokeColor": "#1971c2",
      "backgroundColor": "#d0ebff",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "roughness": 1
    },
    {
      "id": "bm25-idx-text",
      "type": "text",
      "x": 425,
      "y": 242,
      "width": 110,
      "height": 40,
      "text": "BM25 Indexing\n(SQLite FTS5)",
      "fontSize": 11,
      "fontFamily": 1,
      "textAlign": "center"
    },
    {
      "id": "final-storage-box",
      "type": "rectangle",
      "x": 600,
      "y": 60,
      "width": 140,
      "height": 260,
      "strokeColor": "#9c36b5",
      "backgroundColor": "#eebefa",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "roughness": 1
    },
    {
      "id": "final-storage-title",
      "type": "text",
      "x": 620,
      "y": 70,
      "width": 100,
      "height": 25,
      "text": "Final Storage",
      "fontSize": 14,
      "fontFamily": 1,
      "strokeColor": "#9c36b5"
    },
    {
      "id": "chromadb",
      "type": "rectangle",
      "x": 615,
      "y": 105,
      "width": 110,
      "height": 50,
      "strokeColor": "#9c36b5",
      "backgroundColor": "#f8f0fc",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "roughness": 1
    },
    {
      "id": "chromadb-text",
      "type": "text",
      "x": 625,
      "y": 115,
      "width": 90,
      "height": 30,
      "text": "ChromaDB\n(vectors)",
      "fontSize": 11,
      "fontFamily": 1,
      "textAlign": "center"
    },
    {
      "id": "bm25-store",
      "type": "rectangle",
      "x": 615,
      "y": 165,
      "width": 110,
      "height": 50,
      "strokeColor": "#9c36b5",
      "backgroundColor": "#f8f0fc",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "roughness": 1
    },
    {
      "id": "bm25-store-text",
      "type": "text",
      "x": 625,
      "y": 175,
      "width": 90,
      "height": 30,
      "text": "bm25_index.db\n(keywords)",
      "fontSize": 11,
      "fontFamily": 1,
      "textAlign": "center"
    },
    {
      "id": "people-json",
      "type": "rectangle",
      "x": 615,
      "y": 225,
      "width": 110,
      "height": 50,
      "strokeColor": "#9c36b5",
      "backgroundColor": "#f8f0fc",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "roughness": 1
    },
    {
      "id": "people-json-text",
      "type": "text",
      "x": 625,
      "y": 235,
      "width": 90,
      "height": 30,
      "text": "PersonEntity\n(JSON)",
      "fontSize": 11,
      "fontFamily": 1,
      "textAlign": "center"
    },
    {
      "id": "query-box",
      "type": "rectangle",
      "x": 400,
      "y": 360,
      "width": 340,
      "height": 110,
      "strokeColor": "#1971c2",
      "backgroundColor": "#a5d8ff",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "roughness": 1
    },
    {
      "id": "query-title",
      "type": "text",
      "x": 520,
      "y": 370,
      "width": 100,
      "height": 25,
      "text": "Query Pipeline",
      "fontSize": 14,
      "fontFamily": 1,
      "strokeColor": "#1971c2"
    },
    {
      "id": "router",
      "type": "rectangle",
      "x": 415,
      "y": 400,
      "width": 70,
      "height": 50,
      "strokeColor": "#1971c2",
      "backgroundColor": "#d0ebff",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "roughness": 1
    },
    {
      "id": "router-text",
      "type": "text",
      "x": 420,
      "y": 410,
      "width": 60,
      "height": 30,
      "text": "Router\n(Ollama)",
      "fontSize": 10,
      "fontFamily": 1,
      "textAlign": "center"
    },
    {
      "id": "hybrid-search",
      "type": "rectangle",
      "x": 500,
      "y": 400,
      "width": 80,
      "height": 50,
      "strokeColor": "#1971c2",
      "backgroundColor": "#d0ebff",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "roughness": 1
    },
    {
      "id": "hybrid-search-text",
      "type": "text",
      "x": 505,
      "y": 410,
      "width": 70,
      "height": 30,
      "text": "Hybrid\nSearch",
      "fontSize": 10,
      "fontFamily": 1,
      "textAlign": "center"
    },
    {
      "id": "synthesis",
      "type": "rectangle",
      "x": 595,
      "y": 400,
      "width": 70,
      "height": 50,
      "strokeColor": "#1971c2",
      "backgroundColor": "#d0ebff",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "roughness": 1
    },
    {
      "id": "synthesis-text",
      "type": "text",
      "x": 600,
      "y": 410,
      "width": 60,
      "height": 30,
      "text": "Synthesis\n(Claude)",
      "fontSize": 10,
      "fontFamily": 1,
      "textAlign": "center"
    },
    {
      "id": "response",
      "type": "rectangle",
      "x": 680,
      "y": 400,
      "width": 50,
      "height": 50,
      "strokeColor": "#1971c2",
      "backgroundColor": "#d0ebff",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "roughness": 1
    },
    {
      "id": "response-text",
      "type": "text",
      "x": 685,
      "y": 418,
      "width": 40,
      "height": 20,
      "text": "→",
      "fontSize": 16,
      "fontFamily": 1,
      "textAlign": "center"
    },
    {
      "id": "surfaces-box",
      "type": "rectangle",
      "x": 780,
      "y": 60,
      "width": 140,
      "height": 420,
      "strokeColor": "#c92a2a",
      "backgroundColor": "#ffc9c9",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "roughness": 1
    },
    {
      "id": "surfaces-title",
      "type": "text",
      "x": 800,
      "y": 70,
      "width": 100,
      "height": 25,
      "text": "User Surfaces",
      "fontSize": 14,
      "fontFamily": 1,
      "strokeColor": "#c92a2a"
    },
    {
      "id": "chat-ui",
      "type": "rectangle",
      "x": 795,
      "y": 105,
      "width": 110,
      "height": 55,
      "strokeColor": "#c92a2a",
      "backgroundColor": "#fff5f5",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "roughness": 1
    },
    {
      "id": "chat-ui-text",
      "type": "text",
      "x": 805,
      "y": 115,
      "width": 90,
      "height": 40,
      "text": "Chat UI\n/chat",
      "fontSize": 11,
      "fontFamily": 1,
      "textAlign": "center"
    },
    {
      "id": "crm-ui",
      "type": "rectangle",
      "x": 795,
      "y": 170,
      "width": 110,
      "height": 55,
      "strokeColor": "#c92a2a",
      "backgroundColor": "#fff5f5",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "roughness": 1
    },
    {
      "id": "crm-ui-text",
      "type": "text",
      "x": 805,
      "y": 180,
      "width": 90,
      "height": 40,
      "text": "CRM UI\n/crm",
      "fontSize": 11,
      "fontFamily": 1,
      "textAlign": "center"
    },
    {
      "id": "mcp-tools",
      "type": "rectangle",
      "x": 795,
      "y": 235,
      "width": 110,
      "height": 55,
      "strokeColor": "#c92a2a",
      "backgroundColor": "#fff5f5",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "roughness": 1
    },
    {
      "id": "mcp-tools-text",
      "type": "text",
      "x": 805,
      "y": 245,
      "width": 90,
      "height": 40,
      "text": "MCP Tools\n(Claude Code)",
      "fontSize": 11,
      "fontFamily": 1,
      "textAlign": "center"
    },
    {
      "id": "rest-api",
      "type": "rectangle",
      "x": 795,
      "y": 300,
      "width": 110,
      "height": 55,
      "strokeColor": "#c92a2a",
      "backgroundColor": "#fff5f5",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "roughness": 1
    },
    {
      "id": "rest-api-text",
      "type": "text",
      "x": 805,
      "y": 310,
      "width": 90,
      "height": 40,
      "text": "REST API\n/api/*",
      "fontSize": 11,
      "fontFamily": 1,
      "textAlign": "center"
    },
    {
      "id": "telegram",
      "type": "rectangle",
      "x": 795,
      "y": 365,
      "width": 110,
      "height": 55,
      "strokeColor": "#c92a2a",
      "backgroundColor": "#fff5f5",
      "fillStyle": "solid",
      "strokeWidth": 1,
      "roughness": 1
    },
    {
      "id": "telegram-text",
      "type": "text",
      "x": 805,
      "y": 375,
      "width": 90,
      "height": 40,
      "text": "Telegram\n(alerts, reminders)",
      "fontSize": 11,
      "fontFamily": 1,
      "textAlign": "center"
    },
    {
      "id": "arrow-sources-initial",
      "type": "arrow",
      "x": 185,
      "y": 190,
      "width": 30,
      "height": 0,
      "strokeColor": "#1e1e1e",
      "strokeWidth": 2,
      "points": [[0, 0], [30, 0]]
    },
    {
      "id": "arrow-initial-processing",
      "type": "arrow",
      "x": 365,
      "y": 190,
      "width": 30,
      "height": 0,
      "strokeColor": "#1e1e1e",
      "strokeWidth": 2,
      "points": [[0, 0], [30, 0]]
    },
    {
      "id": "arrow-processing-final",
      "type": "arrow",
      "x": 565,
      "y": 190,
      "width": 30,
      "height": 0,
      "strokeColor": "#1e1e1e",
      "strokeWidth": 2,
      "points": [[0, 0], [30, 0]]
    },
    {
      "id": "arrow-final-surfaces",
      "type": "arrow",
      "x": 745,
      "y": 190,
      "width": 30,
      "height": 0,
      "strokeColor": "#1e1e1e",
      "strokeWidth": 2,
      "points": [[0, 0], [30, 0]]
    },
    {
      "id": "arrow-query-surfaces",
      "type": "arrow",
      "x": 735,
      "y": 425,
      "width": 40,
      "height": 0,
      "strokeColor": "#1e1e1e",
      "strokeWidth": 2,
      "points": [[0, 0], [40, 0]]
    },
    {
      "id": "arrow-router-search",
      "type": "arrow",
      "x": 490,
      "y": 425,
      "width": 5,
      "height": 0,
      "strokeColor": "#1e1e1e",
      "strokeWidth": 1,
      "points": [[0, 0], [5, 0]]
    },
    {
      "id": "arrow-search-synth",
      "type": "arrow",
      "x": 585,
      "y": 425,
      "width": 5,
      "height": 0,
      "strokeColor": "#1e1e1e",
      "strokeWidth": 1,
      "points": [[0, 0], [5, 0]]
    },
    {
      "id": "arrow-synth-resp",
      "type": "arrow",
      "x": 670,
      "y": 425,
      "width": 5,
      "height": 0,
      "strokeColor": "#1e1e1e",
      "strokeWidth": 1,
      "points": [[0, 0], [5, 0]]
    },
    {
      "id": "arrow-final-query",
      "type": "arrow",
      "x": 670,
      "y": 325,
      "width": 0,
      "height": 30,
      "strokeColor": "#1e1e1e",
      "strokeWidth": 2,
      "points": [[0, 0], [0, 30]]
    },
    {
      "id": "label-api",
      "type": "text",
      "x": 755,
      "y": 175,
      "width": 20,
      "height": 15,
      "text": "API",
      "fontSize": 9,
      "fontFamily": 1,
      "strokeColor": "#868e96"
    },
    {
      "id": "label-sync",
      "type": "text",
      "x": 185,
      "y": 175,
      "width": 30,
      "height": 15,
      "text": "sync",
      "fontSize": 9,
      "fontFamily": 1,
      "strokeColor": "#868e96"
    }
  ],
  "appState": {
    "viewBackgroundColor": "#ffffff",
    "gridSize": 20
  },
  "files": {}
}
